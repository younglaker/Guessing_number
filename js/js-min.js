$(document).ready(function(){function k(a){var b=($(window).width()-a.width())/2,c=($(window).height()-a.height())/2+$(window).scrollTop();a.css("display","block").css("left",b).css("top",c)}function f(a,b){a.css("display",b)}function l(a){f(a,"none")}function p(a,b){for(var c=0;c<b;c++)a[c]==a[b]&&(a[b]=parseInt(10*Math.random()),p(a,b))}$(".putNum").val("");$(".checkNum-1").val("");$(".checkNum-2").val("");var q=0;setInterval(function(){$(".ball").each(function(a,b){$e=$(b);var c=$e.offset().left+
q++/200,c=25*Math.cos(c);$e.css("margin-top",c)})},20);$(".helpCancel").click(function(){l($(".helpBox"))});$(".rankCancel").click(function(){l($(".rankBox"))});$(".bombCancel").click(function(){l($(".bomb"))});$(".prompCancel").click(function(){l($(".prompt"))});$(".submitCancel").click(function(){l($(".submit"))});$(".menu li:first").click(function(){$(".subMenu").is(":visible")?f($(".subMenu"),"none"):f($(".subMenu"),"block")});$(".rank").click(function(){k($(".rankBox"))});$(".help").click(function(){k($(".helpBox"))});
var g=[],d;for(d=0;4>d;d++)g[d]=parseInt(10*Math.random()),p(g,d);var m=1E3*g[0]+100*g[1]+10*g[2]+g[3];d=m;m=1E3>d?"0"+d:""+d;$(".showNum").html(m);var o=0,i=0,j=0,r=setInterval(function(){var a,b;i++;60<=i&&(i=0,j++);a=j;b=i;10>j&&(a="0"+j);10>i&&(b="0"+i);$(".timeMin").html(a);$(".timeSec").html(b)},1E3);$(".putNum").focus();$(".btnNum").click(function(){a:{for(var a=function(a,b){var c=a.find("li").outerHeight(!0),c=-b*c;new String(c);a.animate({"margin-top":c})},b=$(".putNum").val(),c=""+$(".putNum").val(),
n=[],h=0,d=0,e=0;4>e;e++)n[e]=c.substr(e,1);if(""==b)$(".showArea").prepend("<p>Please guess a 4-digit number.</p><br />");else if(isNaN(b))$(".showArea").prepend("<p>Please guess a number.</p><br />");else if(4!=c.length)$(".showArea").prepend("<p>The number should be 4-digit.</p><br />");else{for(e=0;4>e;e++)for(var f=0;f<e;f++)if(n[e]==n[f]){$(".showArea").prepend("<p>Each digit should different from others. Please try again.</p><br />");break a}for(e=0;4>e;e++)n[e]==g[e]&&h++;for(e=0;4>e;e++)for(f=
0;4>f;f++)n[e]==g[f]&&d++;o++;b==m?(k($(".bomb")),$(".rightNum").html(m),$(".timeConsume").html(j+"min"+i+"sec"),$(".roundConsume").html(o),clearInterval(r)):($(".showArea").prepend("<p>Round "+o+"\u2014\u2014 Number "+c+", A is "+h+", B is "+d+"</p><br />"),a($(".listA"),h),a($(".listB"),d))}}$(".putNum").val("").focus()});document.onkeydown=function(a){a||(a=window.event);13==(a.keyCode||a.which)&&$(".btnNum").click()};$(".rightMenu li:first").click(function(){window.location.reload()});$(".rightMenu li:eq(1)").click(function(){k($(".prompt"))});
$(".promptInBox li:first").click(function(){for(var a=1;2>=a;a++){var b="promptNum-"+a,c="promptIs-"+a,d=$(".checkNum-"+a).val();if(isNaN(d)){$(".promptWrong").html("Please put in a number.");return}for(var h=0;4>h;h++){if(d==g[h]){$("."+b).html(g[h]);$("."+c).html("exists.");break}3==h&&($("."+b).html(d),$("."+c).html("not exists."))}}f($(".promptInput"),"none");f($(".promptAnswer"),"block")});$(".promptInBox li:eq(1)").click(function(){f($(".prompt"),"none")});$(".bombMenu li:eq(1)").click(function(){f($(".bomb"),
"none");k($(".submit"))});$(".submitRecord").click(function(){var a=$(".submitGrade").val();parseInt(9E4*Math.random()+1E4);var b=parseInt(9E4*Math.random()+1E4),c=parseInt(9E4*Math.random()+1E4),d=parseInt(9E5*Math.random()+1E5),h=parseInt(9E5*Math.random()+1E5),g=parseInt(9E5*Math.random()+1E5);$.ajax({url:"submit.php",cache:!1,data:{u:a,t:d,o:""+b+j,b:h,m:""+d+i,a:""+c+o,h:g},success:function(){f($(".submitPromt"),"block");setTimeout("window.location.reload();",1500)},dataType:"text"})})});